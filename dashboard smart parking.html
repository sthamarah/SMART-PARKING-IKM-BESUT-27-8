<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IKM Besut SmartParking</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #1a56db 0%, #1e40af 100%);
        }
        .modern-card {
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        .modern-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        .feature-icon {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            margin-bottom: 1rem;
        }
        .camera-preview {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            background-color: #111;
            border-radius: 12px;
            overflow: hidden;
        }
    </style>
</head>
<body class="font-sans min-h-screen bg-gray-50">
    <!-- Homepage with Login/Signup -->
    <div id="homePage" class="flex flex-col min-h-screen">
        <!-- Header -->
        <header class="gradient-bg text-white py-6 shadow-lg">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-3">
                        <img class="img-fluid flex-shrink-0 ml-n5 w-50 mr-4" src="img/banner-left.png" alt="">
                        <h1 class="text-2xl font-bold">SmartParking IKM Besut</h1>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content - Forms -->
        <main class="flex-grow bg-gray-50 py-12">
            <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-center gap-12">
                <!-- Login Form -->
                <div id="loginForm" class="w-full md:w-1/3 bg-white rounded-xl shadow-md overflow-hidden modern-card">
                    <div class="p-8">
                        <h2 class="textCon-2xl font-bold text-gray-800 mb-6">Log Masuk</h2>
                        <form id="login" class="space-y-4">
                            <div>
                                <label for="login-email" class="block text-sm font-medium text-gray-700">Email</label>
                                <input type="email" id="login-email" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label for="login-password" class="block text-sm font-medium text-gray-700">Kata Laluan</label>
                                <input type="password" id="login-password" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white gradient-bg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                Log Masuk
                            </button>
                        </form>
                        <p class="mt-4 text-sm text-gray-600">
                            Tiada akaun? <button id="showSignup" class="text-blue-600 hover:text-blue-800 font-medium">Daftar di sini</button>
                        </p>
                    </div>
                </div>

                <!-- Info Section -->
                <div class="hidden md:block w-1/2 space-y-8">
                    <h2 class="text-3xl font-bold text-gray-800">Sistem Smart Parking IKM Besut</h2>
                    <p class="text-lg text-gray-600">
                        Solusi parking pintar menggunakan teknologi pengenalan plat nombor automatik untuk meningkatkan pengurusan parking di kawasan IKM Besut.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="modern-card bg-white p-6 rounded-xl space-y-3">
                            <div class="feature-icon bg-blue-100 text-blue-600">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5V14.25" />
                                </svg>
                            </div>
                            <h3 class="font-bold text-lg">Pengesanan Automatik</h3>
                            <p class="text-gray-600 text-sm">Deteksi nombor plat secara real-time menggunakan kamera berteknologi tinggi.</p>
                        </div>
                        
                        <div class="modern-card bg-white p-6 rounded-xl space-y-3">
                            <div class="feature-icon bg-green-100 text-green-600">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <h3 class="font-bold text-lg">Ketepatan Tinggi</h3>
                            <p class="text-gray-600 text-sm">Akurasi pengesanan mencapai 98% untuk semua jenis kenderaan.</p>
                        </div>
                        
                        <div class="modern-card bg-white p-6 rounded-xl space-y-3">
                            <div class="feature-icon bg-purple-100 text-purple-600">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" />
                                </svg>
                            </div>
                            <h3 class="font-bold text-lg">Pantas</h3>
                            <p class="text-gray-600 text-sm">Proses masuk/keluar dibawah 5 saat per kenderaan.</p>
                        </div>
                        
                        <div class="modern-card bg-white p-6 rounded-xl space-y-3">
                            <div class="feature-icon bg-yellow-100 text-yellow-600">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <h3 class="font-bold text-lg">Laporan Lengkap</h3>
                            <p class="text-gray-600 text-sm">Statistik penggunaan parking secara real-time dan harian.</p>
                        </div>
                    </div>
                </div>

                <!-- Signup Form (Hidden by default) -->
                <div id="signupForm" class="hidden w-full md:w-1/3 bg-white rounded-xl shadow-md overflow-hidden modern-card">
                    <div class="p-8">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">Daftar Akaun</h2>
                        <form id="signup" class="space-y-4">
                            <div>
                                <label for="signup-name" class="block text-sm font-medium text-gray-700">Nama Penuh</label>
                                <input type="text" id="signup-name" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label for="signup-email" class="block text-sm font-medium text-gray-700">Email</label>
                                <input type="email" id="signup-email" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label for="signup-password" class="block text-sm font-medium text-gray-700">Kata Laluan</label>
                                <input type="password" id="signup-password" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label for="signup-confirm" class="block text-sm font-medium text-gray-700">Sahkan Kata Laluan</label>
                                <input type="password" id="signup-confirm" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <button type="submit" id="registerBtn" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white gradient-bg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                Daftar
                            </button>
                        </form>
                        <p class="mt-4 text-sm text-gray-600">
                            Sudah ada akaun? <button id="showLogin" class="text-blue-600 hover:text-blue-800 font-medium">Log masuk</button>
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Dashboard (Initially Hidden) -->
    <div id="dashboardPage" class="hidden min-h-screen">
        <!-- Header -->
        <header class="gradient-bg text-white py-4 shadow-lg sticky top-0 z-10">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-3">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/98b16109-df1e-4f4a-85f4-e1a2962cec18.png" alt="Small modern IKM Besut logo"/>
                        <h1 class="text-xl font-bold">SmartParking IKM Besut</h1>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span id="userEmail" class="hidden md:block"></span>
                        <button id="logoutBtn" class="bg-white text-blue-600 px-4 py-1 rounded-md text-sm font-medium hover:bg-gray-100">Log Keluar</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Dashboard Content -->
        <main class="bg-gray-50 min-h-[calc(100vh-68px)]">
            <div class="container mx-auto px-4 py-8">
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                    <!-- Sidebar -->
                    <div class="lg:col-span-1 bg-white rounded-xl shadow-md p-6 space-y-4 h-fit modern-card">
                        <div class="flex items-center space-x-3 mb-6">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/5a49b645-e214-49d2-990c-ce6c8f8ce4dc.png" alt="User profile photo showing professional headshot with blue background"/>
                            <div>
                                <h3 id="usernameDisplay" class="font-bold text-lg text-gray-800">Nama Pengguna</h3>
                                <p id="userEmailDisplay" class="text-gray-600 text-sm">user@example.com</p>
                            </div>
                        </div>

                        <nav>
                            <ul class="space-y-2">
                                <li>
                                    <button id="dashboardTab" class="w-full text-left px-4 py-2 bg-blue-100 text-blue-700 rounded-md font-medium flex items-center space-x-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
                                        </svg>
                                        <span>Dashboard</span>
                                    </button>
                                </li>
                                <li>
                                    <button id="cameraTab" class="w-full text-left px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md flex items-center space-x-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
                                        </svg>
                                        <span>Pengesan Plat</span>
                                    </button>
                                </li>
                                <li>
                                    <button id="historyTab" class="w-full text-left px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md flex items-center space-x-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                                        </svg>
                                        <span>Rekod Parking</span>
                                    </button>
                                </li>
                                <li>
                                    <button id="settingsTab" class="w-full text-left px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md flex items-center space-x-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        <span>Tetapan</span>
                                    </button>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <!-- Main Content Area -->
                    <div class="lg:col-span-3 space-y-6">
                        <!-- Dashboard Content -->
                        <div id="dashboardContent" class="space-y-6">
                            <!-- Welcome Banner -->
                            <div class="gradient-bg text-white rounded-xl shadow-md p-6">
                                <div class="flex flex-col md:flex-row justify-between items-start md:items-center">
                                    <div>
                                        <h2 class="text-xl font-bold mb-2">Selamat Datang ke SmartParking</h2>
                                        <p class="opacity-90">Sistem pengurusan parking pintar untuk IKM Besut</p>
                                    </div>
                                    <div class="mt-4 md:mt-0">
                                        <button id="quickDetectBtn" class="bg-white text-blue-600 px-4 py-2 rounded-md font-medium hover:bg-blue-50">Pengesanan Pantas</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Stats Cards -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="modern-card bg-white rounded-xl p-6">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="text-sm font-medium text-gray-500">Parking Hari Ini</p>
                                            <p class="text-2xl font-bold mt-1">15</p>
                                        </div>
                                        <div class="bg-blue-100 p-3 rounded-lg text-blue-600">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5V14.25" />
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="modern-card bg-white rounded-xl p-6">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="text-sm font-medium text-gray-500">Kenderaan Aktif</p>
                                            <p class="text-2xl font-bold mt-1">4</p>
                                        </div>
                                        <div class="bg-green-100 p-3 rounded-lg text-green-600">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.14 2.14L13.828 15a2 2 0 00-2.828 0l-.236.237m1.013 2.863a5.99 5.99 0 00-4.744-1.563 5.99 5.99 0 00-1.564 4.742" />
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="modern-card bg-white rounded-xl p-6">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="text-sm font-medium text-gray-500">Baki Tempat</p>
                                            <p class="text-2xl font-bold mt-1">26/50</p>
                                        </div>
                                        <div class="bg-yellow-100 p-3 rounded-lg text-yellow-600">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5V14.25" />
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Recent Activity -->
                            <div class="modern-card bg-white rounded-xl shadow-md p-6">
                                <div class="flex justify-between items-center mb-4">
                                    <h2 class="text-xl font-bold text-gray-800">Aktiviti Terkini</h2>
                                    <button id="addRecordBtn" class="text-sm bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700">Tambah Rekod</button>
                                </div>
                                
                                <div class="-mx-4 overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombor Plat</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Jenis Kenderaan</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Masa Masuk</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Masa Keluar</th>
                                            </tr>
                                        </thead>
                                        <tbody id="recentActivity" class="bg-white divide-y divide-gray-200">
                                            <!-- Sample data -->
                                            <tr class="record-item">
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">BFT 5598</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Kereta</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">08:45 AM</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">03:20 PM</td>
                                            </tr>
                                            <tr class="record-item">
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">WXY 9876</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Motor</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10:15 AM</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">01:30 PM</td>
                                            </tr>
                                            <tr class="record-item">
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">ABC 1234</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Kereta</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">09:30 AM</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">05:45 PM</td>
                                            </tr>
                                            <tr class="record-item">
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">DEF 5678</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Motor</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">11:00 AM</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">04:15 PM</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Camera Content (Hidden) -->
                        <div id="cameraContent" class="hidden bg-white rounded-xl shadow-md p-6">
                            <h2 class="text-xl font-bold text-gray-800 mb-4">Pengesan Nombor Plat</h2>
                            <p class="text-gray-600 mb-6">Arahkan kamera ke nombor plat kenderaan untuk pengesanan automatik.</p>
                            
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <div>
                                    <div class="camera-preview">
                                        <div id="cameraView" class="w-full h-full">
                                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/639d424a-9ca2-43e2-ba00-31284d7b64db.png" alt="Camera feed showing a car entering a parking lot with a visible license plate" class="w-full h-full object-cover"/>
                                            <div class="plate-overlay hidden">Sedang mengesan...</div>
                                        </div>
                                    </div>
                                    <div class="mt-4 flex justify-center space-x-4">
                                        <button id="startCameraBtn" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">Hidupkan Kamera</button>
                                        <button id="detectBtn" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">Kesan Nombor Plat</button>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="bg-gray-50 p-4 rounded-md">
                                        <h3 class="font-medium text-gray-800 mb-2">Maklumat Kenderaan</h3>
                                        <div class="space-y-3">
                                            <div>
                                                <label class="text-sm text-gray-600">Nombor Plat</label>
                                                <div class="mt-1 p-2 bg-white border border-gray-200 rounded-md">
                                                    <span id="plateNumber">-</span>
                                                </div>
                                            </div>
                                            <div>
                                                <label class="text-sm text-gray-600">Jenis Kenderaan</label>
                                                <div class="mt-1 p-2 bg-white border border-gray-200 rounded-md">
                                                    <span id="vehicleType">-</span>
                                                </div>
                                            </div>
                                            <div>
                                                <label class="text-sm text-gray-600">Masa Masuk</label>
                                                <div class="mt-1 p-2 bg-white border border-gray-200 rounded-md">
                                                    <span id="entryTime">-</span>
                                                </div>
                                            </div>
                                            <div>
                                                <label class="text-sm text-gray-600">Status</label>
                                                <div class="mt-1 p-2 bg-white border border-gray-200 rounded-md">
                                                    <span id="detectionStatus">Belum dikesan</span>
                                                </div>
                                            </div>
                                        </div>
                                        <button id="saveRecordBtn" class="mt-4 w-full py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 hidden">Simpan Rekod</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- History Content (Hidden) -->
                        <div id="historyContent" class="hidden bg-white rounded-xl shadow-md p-6">
                            <h2 class="text-xl font-bold text-gray-800 mb-4">Rekod Parking</h2>
                            
                            <div class="mb-6">
                                <label for="recordFilter" class="block text-sm font-medium text-gray-700 mb-1">Papar Rekod untuk:</label>
                                <select id="recordFilter" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                                    <option value="today">Hari Ini</option>
                                    <option value="week">Minggu Ini</option>
                                    <option value="month">Bulan Ini</option>
                                    <option value="all">Semua Rekod</option>
                                </select>
                            </div>
                            
                            <div class="overflow-hidden">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tarikh</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombor Plat</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Jenis</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Masa Masuk</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Masa Keluar</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tempoh</th>
                                        </tr>
                                    </thead>
                                    <tbody id="historyRecords" class="bg-white divide-y divide-gray-200">
                                        <!-- Sample data -->
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Hari Ini</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">BFT 5598</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Kereta</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">08:45 AM</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">03:20 PM</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">6 jam 35 min</td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Hari Ini</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">WXY 9876</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Motor</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10:15 AM</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">01:30 PM</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3 jam 15 min</td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Semalam</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">ABC 1234</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Kereta</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">09:30 AM</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">05:45 PM</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">8 jam 15 min</td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Semalam</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">DEF 5678</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Motor</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">11:00 AM</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">04:15 PM</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">5 jam 15 min</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Settings Content (Hidden) -->
                        <div id="settingsContent" class="hidden bg-white rounded-xl shadow-md p-6">
                            <h2 class="text-xl font-bold text-gray-800 mb-6">Tetapan</h2>
                            
                            <form class="space-y-6">
                                <div>
                                    <h3 class="text-lg font-medium text-gray-900 mb-4">Profil Pengguna</h3>
                                    <div class="grid grid-cols-1 gap-y-6 sm:grid-cols-6 sm:gap-x-4">
                                        <div class="sm:col-span-6">
                                            <label for="settings-name" class="block text-sm font-medium text-gray-700">Nama Penuh</label>
                                            <input type="text" id="settings-name" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                                        </div>
                                        
                                        <div class="sm:col-span-6">
                                            <label for="settings-email" class="block text-sm font-medium text-gray-700">Alamat Email</label>
                                            <input type="email" id="settings-email" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="pt-6">
                                    <h3 class="text-lg font-medium text-gray-900 mb-4">Kata Laluan</h3>
                                    <div class="grid grid-cols-1 gap-y-6 sm:grid-cols-6 sm:gap-x-4">
                                        <div class="sm:col-span-6">
                                            <label for="current-password" class="block text-sm font-medium text-gray-700">Kata Laluan Semasa</label>
                                            <input type="password" id="current-password" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                                        </div>
                                        
                                        <div class="sm:col-span-3">
                                            <label for="new-password" class="block text-sm font-medium text-gray-700">Kata Laluan Baru</label>
                                            <input type="password" id="new-password" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                                        </div>
                                        
                                        <div class="sm:col-span-3">
                                            <label for="confirm-password" class="block text-sm font-medium text-gray-700">Sahkan Kata Laluan</label>
                                            <input type="password" id="confirm-password" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="pt-6 flex justify-end">
                                    <button type="button" class="bg-gray-100 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                        Batalkan
                                    </button>
                                    <button type="submit" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white gradient-bg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                        Simpan Perubahan
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // DOM Elements
        const homePage = document.getElementById('homePage');
        const dashboardPage = document.getElementById('dashboardPage');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const showSignup = document.getElementById('showSignup');
        const showLogin = document.getElementById('showLogin');
        const loginBtn = document.querySelector('#login button[type="submit"]');
        const registerBtn = document.getElementById('registerBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const usernameDisplay = document.getElementById('usernameDisplay');
        const userEmailDisplay = document.getElementById('userEmailDisplay');
        const userEmail = document.getElementById('userEmail');
        
        // Tab elements
        const dashboardTab = document.getElementById('dashboardTab');
        const cameraTab = document.getElementById('cameraTab');
        const historyTab = document.getElementById('historyTab');
        const settingsTab = document.getElementById('settingsTab');
        
        // Content sections
        const dashboardContent = document.getElementById('dashboardContent');
        const cameraContent = document.getElementById('cameraContent');
        const historyContent = document.getElementById('historyContent');
        const settingsContent = document.getElementById('settingsContent');
        
        // Camera elements
        const startCameraBtn = document.getElementById('startCameraBtn');
        const detectBtn = document.getElementById('detectBtn');
        const saveRecordBtn = document.getElementById('saveRecordBtn');
        const plateOverlay = document.querySelector('.plate-overlay');
        const plateNumber = document.getElementById('plateNumber');
        const vehicleType = document.getElementById('vehicleType');
        const entryTime = document.getElementById('entryTime');
        const detectionStatus = document.getElementById('detectionStatus');
        
        // Event Listeners
        showSignup.addEventListener('click', () => {
            loginForm.classList.add('hidden');
            signupForm.classList.remove('hidden');
        });
        
        showLogin.addEventListener('click', () => {
            signupForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        });
        
        registerBtn.addEventListener('click', handleRegister);
        logoutBtn.addEventListener('click', handleLogout);
        
        // Tab switching
        dashboardTab.addEventListener('click', () => switchTab('dashboard'));
        cameraTab.addEventListener('click', () => switchTab('camera'));
        historyTab.addEventListener('click', () => switchTab('history'));
        settingsTab.addEventListener('click', () => switchTab('settings'));
        
        // Camera functionality
        startCameraBtn.addEventListener('click', startCamera);
        detectBtn.addEventListener('click', detectPlate);
        saveRecordBtn.addEventListener('click', saveRecord);
        
        // Sample plate numbers for simulation
        const carPlates = ['BFT 1234', 'WXY 5678', 'ABC 9012', 'DEF 3456'];
        const bikePlates = ['MCF 123', 'PTR 456', 'KLN 789', 'JHR 012'];
        
        // Functions
        function handleRegister(e) {
            e.preventDefault();
            
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirm = document.getElementById('signup-confirm').value;
            
            // Simple validation
            if (password !== confirm) {
                alert('Kata laluan dan pengesahan tidak sama!');
                return;
            }
            
            // Store user data (simplified)
            localStorage.setItem('smartParking_user', JSON.stringify({
                name,
                email,
                password
            }));
            
            // Show login form
            signupForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
            
            // Auto-fill login form
            document.getElementById('login-email').value = email;
            document.getElementById('login-password').value = password;
            
            alert('Pendaftaran berjaya! Sila log masuk dengan maklumat anda.');
        }
        
        function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Check credentials (simplified)
            const userData = localStorage.getItem('smartParking_user');
            
            if (userData) {
                const user = JSON.parse(userData);
                
                if (user.email === email && user.password === password) {
                    // Login successful
                    homePage.classList.add('hidden');
                    dashboardPage.classList.remove('hidden');
                    
                    // Set user info
                    usernameDisplay.textContent = user.name;
                    userEmailDisplay.textContent = user.email;
                    userEmail.textContent = user.email;
                    
                    // Initialize dashboard
                    switchTab('dashboard');
                    
                    return;
                }
            }
            
            alert('Email atau kata laluan tidak tepat!');
        }
        
        function handleLogout() {
            localStorage.removeItem('smartParking_loggedIn');
            homePage.classList.remove('hidden');
            dashboardPage.classList.add('hidden');
            
            // Clear login form
            document.getElementById('login-email').value = '';
            document.getElementById('login-password').value = '';
        }
        
        function switchTab(tab) {
            // Reset all tabs
            [dashboardContent, cameraContent, historyContent, settingsContent].forEach(el => {
                el.classList.add('hidden');
            });
            
            // Reset active tab styles
            [dashboardTab, cameraTab, historyTab, settingsTab].forEach(el => {
                el.classList.remove('bg-blue-100', 'text-blue-700');
                el.classList.add('text-gray-600', 'hover:bg-gray-100');
            });
            
            // Activate selected tab
            switch(tab) {
                case 'dashboard':
                    dashboardContent.classList.remove('hidden');
                    dashboardTab.classList.add('bg-blue-100', 'text-blue-700');
                    dashboardTab.classList.remove('text-gray-600', 'hover:bg-gray-100');
                    break;
                case 'camera':
                    cameraContent.classList.remove('hidden');
                    cameraTab.classList.add('bg-blue-100', 'text-blue-700');
                    cameraTab.classList.remove('text-gray-600', 'hover:bg-gray-100');
                    break;
                case 'history':
                    historyContent.classList.remove('hidden');
                    historyTab.classList.add('bg-blue-100', 'text-blue-700');
                    historyTab.classList.remove('text-gray-600', 'hover:bg-gray-100');
                    break;
                case 'settings':
                    settingsContent.classList.remove('hidden');
                    settingsTab.classList.add('bg-blue-100', 'text-blue-700');
                    settingsTab.classList.remove('text-gray-600', 'hover:bg-gray-100');
                    break;
            }
        }
        
        function startCamera() {
            alert('Kamera dihidupkan (simulasi)');
            startCameraBtn.textContent = 'Kamera Aktif';
            startCameraBtn.classList.remove('bg-blue-600');
            startCameraBtn.classList.add('bg-gray-600');
            detectBtn.disabled = false;
        }
        
        function detectPlate() {
            plateOverlay.classList.remove('hidden');
            plateOverlay.textContent = 'Sedang mengesan...';
            detectionStatus.textContent = 'Mengesan...';
            
            // Simulate detection delay
            setTimeout(() => {
                const isCar = Math.random() > 0.5;
                const plates = isCar ? carPlates : bikePlates;
                const randomPlate = plates[Math.floor(Math.random() * plates.length)];
                
                plateOverlay.textContent = randomPlate;
                plateNumber.textContent = randomPlate;
                vehicleType.textContent = isCar ? 'Kereta' : 'Motor';
                
                const now = new Date();
                entryTime.textContent = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                detectionStatus.textContent = 'Berjaya dikesan';
                saveRecordBtn.classList.remove('hidden');
            }, 2000);
        }
        
        function saveRecord() {
            alert(`Rekod parking untuk ${plateNumber.textContent} telah disimpan!`);
            saveRecordBtn.classList.add('hidden');
            
            // Add to recent activity
            const recentTable = document.querySelector('#recentActivity');
            const newRow = document.createElement('tr');
            newRow.className = 'record-item';
            newRow.innerHTML = `
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${plateNumber.textContent}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${vehicleType.textContent}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${entryTime.textContent}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">-</td>
            `;
            recentTable.prepend(newRow);
            
            // Reset detection
            plateOverlay.classList.add('hidden');
            plateNumber.textContent = '-';
            vehicleType.textContent = '-';
            entryTime.textContent = '-';
            detectionStatus.textContent = 'Belum dikesan';
        }
        
        // Initialize
        document.getElementById('login').addEventListener('submit', handleLogin);
        
        // Check if already logged in (demo purposes)
        const isLoggedIn = localStorage.getItem('smartParking_loggedIn');
        if (isLoggedIn) {
            homePage.classList.add('hidden');
            dashboardPage.classList.remove('hidden');
            
            const userData = localStorage.getItem('smartParking_user');
            if (userData) {
                const user = JSON.parse(userData);
                usernameDisplay.textContent = user.name;
                userEmailDisplay.textContent = user.email;
                userEmail.textContent = user.email;
            }
            
            switchTab('dashboard');
        }
    </script>
</body>
</html>